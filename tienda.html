<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda | TDAH</title>
    <link rel="stylesheet" href="./css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
</head>

<body>

    <!-- Header con Bootstrap Grid -->
    <div class="container-fluid">
        <div class="row header-container">

            <!-- Logo (columna izquierda) -->
            <div class="col-lg-2 col-12 logo-section">
                <div class="logo-mobile-wrapper">
                    <div class="logo-row">
                        <a href="index.html">
                            <img src="img/logo_TDAH.PNG" alt="TDAH Adultos México" class="logo">
                        </a>
                        <!-- Toggle a la derecha del logo -->
                        <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse"
                            data-bs-target="#mainNavbar">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    <!-- Iconos Mobile debajo del logo -->
                    <div class="navbar-icons-mobile d-lg-none text-center">
                        <i class="bi bi-facebook icon-hover"></i>
                        <i class="bi bi-instagram icon-hover"></i>
                        <i class="bi bi-youtube icon-hover"></i>
                        <i class="bi bi-search icon-hover"></i>
                        <div class="cart-icon-wrapper">
                            <i class="bi bi-cart icon-hover" id="cartIconMobile"></i>
                            <span class="cart-badge" id="cartBadgeMobile">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navbar Section (columna derecha) -->
            <div class="col-lg-10 col-12 navbar-section">

                <!-- Barra fecha -->
                <div class="date-bar">
                    <span>Viernes, 24 de Febrero, 2025</span>
                </div>

                <!-- Navbar -->
                <nav class="navbar navbar-expand-lg navbar-light main-navbar">
                    <div class="container-fluid">

                        <!-- Contenido -->
                        <div class="collapse navbar-collapse" id="mainNavbar">

                            <!-- Menú -->
                            <ul class="navbar-nav me-auto gap-lg-3">
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                                        Noticias Por Región
                                    </a>
                                    <ul class="dropdown-menu region-dropdown">
                                        <li><a class="dropdown-item" href="index.html">CDMX</a></li>
                                        <li><a class="dropdown-item" href="#">Cuernavaca</a></li>
                                        <li><a class="dropdown-item" href="#">Guadalajara</a></li>
                                        <li><a class="dropdown-item" href="#">Monterrey</a></li>
                                        <li><a class="dropdown-item" href="#">Cancún</a></li>
                                    </ul>
                                </li>

                                <li class="nav-item"><a class="nav-link" href="#">Cultura</a></li>
                                <li class="nav-item"><a class="nav-link" href="eventos.html">Eventos</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">Deportes</a></li>
                                <li class="nav-item"><a class="nav-link" href="testimonios.html">Testimonios</a></li>
                                <li class="nav-item"><a class="nav-link" href="doctores.html">Medicina</a></li>
                                <li class="nav-item"><a class="nav-link" href="#">Negocios</a></li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle region-link" href="#"
                                        data-bs-toggle="dropdown">Otros</a>
                                    <ul class="dropdown-menu region-dropdown">
                                        <li><a class="dropdown-item" href="tienda.html">Tienda</a></li>
                                        <li><a class="dropdown-item" href="#">Negocios / Finanzas</a></li>
                                        <li><a class="dropdown-item" href="#">Tecnologias</a></li>
                                        <li><a class="dropdown-item" href="#">Consejos TDAH</a></li>
                                    </ul>
                                </li>
                            </ul>

                            <!-- Iconos -->
                            <div class="navbar-icons d-none d-lg-flex">
                                <i class="bi bi-facebook icon-hover"></i>
                                <i class="bi bi-instagram icon-hover"></i>
                                <i class="bi bi-youtube icon-hover"></i>
                                <i class="bi bi-search icon-hover"></i>
                                <div class="cart-icon-wrapper">
                                    <i class="bi bi-cart" id="cartIcon"></i>
                                    <span class="cart-badge" id="cartBadge">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>

            </div>
        </div>
    </div>
    <!-- Encabezado de la Seccion-->
    <section class="section-category">
        <div class="container">

            <!-- Título de categoría -->
            <div class="section-header text-center my-4">
                <span class="section-line"></span>
                <h2 class="section-title section-title-tienda">Tienda</h2>
                <span class="section-line"></span>
            </div>

            <!-- Anuncio que solo se ve en mobile - Después del título -->
            <div class="row d-lg-none mb-4">
                <div class="col-12">
                    <div class="ad ad-horizontal">
                        <div class="ad-content">
                            <i class="bi bi-megaphone"></i>
                            <div class="ad-text">
                                <h6>Espacio Publicitario</h6>
                                <p>Anuncia aquí tu negocio</p>
                            </div>
                            <span class="ad-size">320 x 100</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ads superiores - SOLO DESKTOP -->
            <div class="row g-3 mb-4 d-none d-lg-flex">
                <div class="col-lg-6">
                    <div class="ad ad-horizontal">
                        <div class="ad-content">
                            <i class="bi bi-megaphone"></i>
                            <div class="ad-text">
                                <h6>Espacio Publicitario</h6>
                                <p>Anuncia aquí tu negocio</p>
                            </div>
                            <span class="ad-size">468 x 60</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="ad ad-horizontal">
                        <div class="ad-content">
                            <i class="bi bi-megaphone"></i>
                            <div class="ad-text">
                                <h6>Espacio Publicitario</h6>
                                <p>Anuncia aquí tu negocio</p>
                            </div>
                            <span class="ad-size">468 x 60</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="shop-section container-fluid">
        <div class="row">

            <!-- FILTROS -->
            <aside class="col-lg-3 col-xl-2 d-none d-lg-block filters-sidebar">
                <div class="filters-wrapper">
                    <h6 class="filters-title">
                        <i class="bi bi-list"></i> Filtros
                    </h6>

                    <!-- Tipo de Artículo -->
                    <div class="filter-group">
                        <h6 class="filter-heading">Tipo de Artículo</h6>
                        <ul class="filter-list">
                            <li>
                                <input type="checkbox" data-filter="type" data-value="playeras">
                                <span>Playeras</span>
                                <span class="filter-count" data-count-type="playeras">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="sudaderas">
                                <span>Sudaderas</span>
                                <span class="filter-count" data-count-type="sudaderas">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="gorras">
                                <span>Gorras</span>
                                <span class="filter-count" data-count-type="gorras">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="bolsas">
                                <span>Bolsas</span>
                                <span class="filter-count" data-count-type="bolsas">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="accesorios">
                                <span>Accesorios</span>
                                <span class="filter-count" data-count-type="accesorios">0</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Price -->
                    <div class="filter-group">
                        <h6 class="filter-heading">Precio</h6>
                        <ul class="filter-list">
                            <li>
                                <input type="checkbox" data-filter="price" data-value="50-99">
                                <span>$50 - $99</span>
                                <span class="filter-count" data-count-price="50-99">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="price" data-value="100-199">
                                <span>$100 - $199</span>
                                <span class="filter-count" data-count-price="100-199">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="price" data-value="200-299">
                                <span>$200 - $299</span>
                                <span class="filter-count" data-count-price="200-299">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="price" data-value="300-400">
                                <span>$300 - $400</span>
                                <span class="filter-count" data-count-price="300-400">0</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Size -->
                    <div class="filter-group">
                        <h6 class="filter-heading">Talla</h6>
                        <ul class="filter-list">
                            <li>
                                <input type="checkbox" data-filter="size" data-value="xs">
                                <span>XS</span>
                                <span class="filter-count" data-count-size="xs">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="s">
                                <span>S</span>
                                <span class="filter-count" data-count-size="s">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="m">
                                <span>M</span>
                                <span class="filter-count" data-count-size="m">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="l">
                                <span>L</span>
                                <span class="filter-count" data-count-size="l">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="xl">
                                <span>XL</span>
                                <span class="filter-count" data-count-size="xl">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="xxl">
                                <span>XXL</span>
                                <span class="filter-count" data-count-size="xxl">0</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </aside>

            <!-- PRODUCTOS -->
            <main class="col-lg-9 col-xl-10 products-section">

                <!-- Botón de filtros para mobile -->
                <button class="btn btn-filters d-lg-none mb-3" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#filtersOffcanvas">
                    <i class="bi bi-funnel"></i> Filtros
                </button>

                <div class="products-header d-flex justify-content-between align-items-center">
                    <p class="products-count">7 Productos Encontrados</p>
                    <div class="sort-wrapper">
                        <span class="sort-label">Ordenar por:</span>
                        <select class="sort-select" id="sortSelect">
                            <option value="relevance">Relevancia</option>
                            <option value="a-z">De la A a la Z</option>
                            <option value="price-low">Precio bajo a alto</option>
                            <option value="price-high">Precio alto a bajo</option>
                            <option value="best-seller">Lo más vendido</option>
                            <option value="newest">Nuevo</option>
                        </select>
                        <i class="bi bi-chevron-down sort-icon"></i>
                    </div>
                </div>

                <div class="row g-3 products-grid">

                    <!-- TOTEBAG CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card" data-has-size="false" data-type="bolsas" data-price="300"
                            data-stock="15">
                            <div class="product-image-wrapper">
                                <img src="img/tienda/bolsa_tdah_merch.png" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">TOTEBAG TDAH </h6>
                                <p class="product-price">$300 MXN</p>
                            </div>
                        </div>
                    </div>
                    <!-- PLAYERA TDAH CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <!---ESTE CODIGO SIMULA UN INVENTARIO CONECTADO A UN API O BASE DE DATOS DONDE SE TENGA EL CONTEO DE EL INVENTARIO-->
                        <div class="product-card" data-has-size="true" data-type="playeras" data-price="400"
                            data-sizes='["s","m","l","xl"]' data-stock='{"s":5,"m":10,"l":8,"xl":3}'>
                            <div class="product-image-wrapper">
                                <img src="img/tienda/playera_tdah_merch.PNG" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">Playera TDAH </h6>
                                <p class="product-price">$400 MXN</p>
                            </div>
                        </div>
                    </div>
                    <!-- Almohada TDAH CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card" data-has-size="false" data-type="accesorios" data-price="100"
                            data-stock="20">
                            <div class="product-image-wrapper">
                                <img src="img/tienda/almohada_tdha_merch.png" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">Almohada TDAH </h6>
                                <p class="product-price">$100 MXN</p>
                            </div>
                        </div>
                    </div>
                    <!--Taza tdah CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card" data-has-size="false" data-type="accesorios" data-price="70"
                            data-stock="30">
                            <div class="product-image-wrapper">
                                <img src="img/tienda/taza_tdah_merch.png" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">Taza TDAH </h6>
                                <p class="product-price">$70 MXN</p>
                            </div>
                        </div>
                    </div>
                    <!-- Termo CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card" data-has-size="false" data-type="accesorios" data-price="300"
                            data-stock="12">
                            <div class="product-image-wrapper">
                                <img src="img/tienda/termo_pro_tdah_merch.png" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">Termo Pro TDAH </h6>
                                <p class="product-price">$300 MXN</p>
                            </div>
                        </div>
                    </div>
                    <!-- Vasa para Cafe  CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card" data-has-size="false" data-type="accesorios" data-price="150"
                            data-stock="25">
                            <div class="product-image-wrapper">
                                <img src="img/tienda/vaso_tdah_merch.png" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">Vaso para Cafe TDAH </h6>
                                <p class="product-price">$150 MXN</p>
                            </div>
                        </div>
                    </div>

                    <!-- Gorra TDAH  CARD PRODUCTO -->
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card" data-has-size="false" data-type="gorras" data-price="200"
                            data-stock="18">
                            <div class="product-image-wrapper">
                                <img src="img/tienda/gorra_tdah_souvenir.png" alt="Product">
                                <div class="product-hover-actions">
                                    <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#productQuickView">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h6 class="product-title">Gorra Souvenir </h6>
                                <p class="product-price">$200 MXN</p>
                            </div>
                        </div>
                    </div>

                </div>
            </main>

            <!-- Offcanvas de filtros para mobile -->
            <div class="offcanvas offcanvas-start" tabindex="-1" id="filtersOffcanvas"
                aria-labelledby="filtersOffcanvasLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="filtersOffcanvasLabel">
                        <i class="bi bi-funnel"></i> Filtros
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <!-- Tipo de Artículo -->
                    <div class="filter-group">
                        <h6 class="filter-heading">Tipo de Artículo</h6>
                        <ul class="filter-list">
                            <li>
                                <input type="checkbox" data-filter="type" data-value="playeras">
                                <span>Playeras</span>
                                <span class="filter-count" data-count-type="playeras">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="sudaderas">
                                <span>Sudaderas</span>
                                <span class="filter-count" data-count-type="sudaderas">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="gorras">
                                <span>Gorras</span>
                                <span class="filter-count" data-count-type="gorras">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="bolsas">
                                <span>Bolsas</span>
                                <span class="filter-count" data-count-type="bolsas">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="type" data-value="accesorios">
                                <span>Accesorios</span>
                                <span class="filter-count" data-count-type="accesorios">0</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Price -->
                    <div class="filter-group">
                        <h6 class="filter-heading">Precio</h6>
                        <ul class="filter-list">
                            <li>
                                <input type="checkbox" data-filter="price" data-value="50-99">
                                <span>$50 - $99</span>
                                <span class="filter-count" data-count-price="50-99">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="price" data-value="100-199">
                                <span>$100 - $199</span>
                                <span class="filter-count" data-count-price="100-199">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="price" data-value="200-299">
                                <span>$200 - $299</span>
                                <span class="filter-count" data-count-price="200-299">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="price" data-value="300-400">
                                <span>$300 - $400</span>
                                <span class="filter-count" data-count-price="300-400">0</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Size -->
                    <div class="filter-group">
                        <h6 class="filter-heading">Talla</h6>
                        <ul class="filter-list">
                            <li>
                                <input type="checkbox" data-filter="size" data-value="xs">
                                <span>XS</span>
                                <span class="filter-count" data-count-size="xs">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="s">
                                <span>S</span>
                                <span class="filter-count" data-count-size="s">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="m">
                                <span>M</span>
                                <span class="filter-count" data-count-size="m">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="l">
                                <span>L</span>
                                <span class="filter-count" data-count-size="l">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="xl">
                                <span>XL</span>
                                <span class="filter-count" data-count-size="xl">0</span>
                            </li>
                            <li>
                                <input type="checkbox" data-filter="size" data-value="xxl">
                                <span>XXL</span>
                                <span class="filter-count" data-count-size="xxl">0</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Botones de acción -->
                    <div class="filter-actions mt-4">
                        <button class="btn btn-clear-filters">Limpiar filtros</button>
                        <button class="btn btn-apply-filters" data-bs-dismiss="offcanvas">Aplicar filtros</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--Seccion de Newsletter final y anuncios-->
    <section class="subscribe-section">
        <div class="container">

            <div class="row align-items-center g-4">

                <!-- Texto -->
                <div class="col-lg-6">
                    <h2 class="subscribe-title">
                        Recibe las Últimas<br>
                        Noticias y Eventos
                    </h2>
                </div>

                <!-- Descripción + formulario -->
                <div class="col-lg-6">
                    <p class="subscribe-text">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.
                    </p>

                    <form class="subscribe-form">
                        <input type="text" class="form-control" placeholder="Tu nombre">
                        <input type="email" class="form-control" placeholder="Ingresa tu correo electrónico">
                        <button type="submit" class="btn btn-subscribe-main">
                            Suscríbete
                        </button>
                    </form>
                </div>

            </div>

        </div>
    </section>
    <!-- Publicidad inferior - Anuncio único de ancho completo -->
    <section class="my-5">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="ad ad-horizontal">
                        <div class="ad-content">
                            <i class="bi bi-megaphone"></i>
                            <div class="ad-text">
                                <h6>Espacio Publicitario</h6>
                                <p>Anuncia aquí tu negocio</p>
                            </div>
                            <span class="ad-size">728 x 90</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer class="main-footer">
        <div class="container">

            <div class="row align-items-center">

                <!-- Logo -->
                <div class="col-lg-3 text-center text-lg-start mb-3 mb-lg-0">
                    <img src="./img/logo_TDAH.PNG" alt="TDAH Adultos México" class="footer-logo">
                </div>

                <!-- Navegación -->
                <div class="col-lg-6 text-center">
                    <h5 class="footer-title">¿Quiénes Somos?</h5>
                    <ul class="footer-menu">
                        <li><a href="#">Tienda</a></li>
                        <li><a href="#">Testimonios</a></li>
                        <li><a href="#">Deportes</a></li>
                        <li><a href="#">Negocios</a></li>
                        <li><a href="#">Medicina</a></li>
                        <li><a href="#">Cultura</a></li>
                        <li><a href="#">Eventos</a></li>
                        <p class="footer-copyright">
                            © <span id="currentYear"></span> TDAH Adultos México. Todos los derechos reservados.
                        </p>
                    </ul>

                </div>

                <!-- Redes -->
                <div class="col-lg-3 text-center text-lg-end">
                    <p class="footer-social-title">Síguenos en nuestras<br>redes sociales</p>
                    <div class="footer-social">
                        <i class="bi bi-facebook"></i>
                        <i class="bi bi-instagram"></i>
                        <i class="bi bi-youtube"></i>
                    </div>
                </div>

            </div>

        </div>
    </footer>

    <!-- MODAL QUICK VIEW -->
    <div class="modal fade product-modal" id="productQuickView" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">

                <!-- BOTÓN CERRAR -->
                <button type="button" class="modal-close" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg"></i>
                </button>

                <div class="modal-body">
                    <div class="row g-0">

                        <!-- IMAGEN -->
                        <div class="col-lg-6 product-modal-image">
                            <img id="modalProductImage" src="img/tienda/bolsa_tdah_merch.png" alt="Producto">
                        </div>

                        <!-- INFO -->
                        <div class="col-lg-6 product-modal-info">
                            <h3 class="modal-product-title" id="modalProductTitle">TOTEBAG TDAH</h3>

                            <p class="modal-product-description">
                                Descripción de ejemplo del producto. Texto ilustrativo que representa
                                beneficios, estilo y uso del artículo dentro de la tienda.
                            </p>

                            <!-- SELECT -->
                            <div class="modal-select-group">
                                <label class="form-label">Talla:</label>
                                <select class="form-select">
                                    <option value="" disabled selected>Elige una talla</option>
                                    <option value="xs">XS</option>
                                    <option value="s">S</option>
                                    <option value="m">M</option>
                                    <option value="l">L</option>
                                    <option value="xl">XL</option>
                                    <option value="xxl">XXL</option>
                                </select>
                            </div>

                            <p class="modal-product-price" id="modalProductPrice">$300 MXN</p>

                            <!-- CANTIDAD -->
                            <div class="quantity-wrapper">
                                <label class="form-label">Cantidad</label>
                                <div class="quantity-controls">
                                    <button class="qty-btn" onclick="decreaseQty()">−</button>
                                    <input type="text" id="qtyInput" value="1" readonly>
                                    <button class="qty-btn" onclick="increaseQty()">+</button>
                                </div>
                            </div>

                            <!-- CTA -->
                            <button class="btn btn-primary modal-add-cart">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- OFFCANVAS CARRITO -->
    <div class="offcanvas offcanvas-end cart-offcanvas" tabindex="-1" id="cartOffcanvas"
        aria-labelledby="cartOffcanvasLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="cartOffcanvasLabel">
                <i class="bi bi-cart3"></i> Tu Carrito
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>

        <div class="offcanvas-body">
            <!-- Carrito vacío -->
            <div id="emptyCart" class="empty-cart">
                <i class="bi bi-cart-x"></i>
                <p>Tu carrito está vacío</p>
                <button class="btn btn-primary" data-bs-dismiss="offcanvas">Ir a comprar</button>
            </div>

            <!-- Lista de productos -->
            <div id="cartItems" class="cart-items" style="display: none;">
                <!-- Los productos se insertarán aquí dinámicamente -->
            </div>

            <!-- Resumen del carrito -->
            <div id="cartSummary" class="cart-summary" style="display: none;">
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span id="cartSubtotal">$0 MXN</span>
                </div>
                <div class="summary-row">
                    <span>Envío:</span>
                    <span id="cartShipping">Gratis</span>
                </div>
                <div class="summary-row summary-total">
                    <span>Total:</span>
                    <span id="cartTotal">$0 MXN</span>
                </div>

                <button class="btn btn-primary btn-checkout">
                    Continuar al Pago
                    <i class="bi bi-arrow-right"></i>
                </button>

                <button class="btn btn-outline-secondary btn-continue-shopping" data-bs-dismiss="offcanvas">
                    Seguir Comprando
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de confirmación de eliminación -->
    <div class="modal fade" id="confirmDeleteModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-exclamation-triangle text-warning"></i>
                        Confirmar eliminación
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>¿Estás seguro de que deseas eliminar <strong id="productToDelete"></strong> de tu carrito?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Eliminar</button>
                </div>
            </div>
        </div>
    </div>


    <script src="./js/bootstrap/bootstrap.bundle.min.js"></script>
    <script>
        // Actualizar año automáticamente en el footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const doctorSwiper = new Swiper('.doctors-slider', {
            slidesPerView: 'auto',
            spaceBetween: 20,
            grabCursor: true,
            breakpoints: {
                768: {
                    slidesPerView: 3
                },
                992: {
                    slidesPerView: 5
                }
            }
        });

        // Funcionalidad de ordenamiento
        document.getElementById('sortSelect').addEventListener('change', function () {
            const sortValue = this.value;
            const productsGrid = document.querySelector('.products-grid');
            const products = Array.from(productsGrid.querySelectorAll('.col-6, .col-md-4, .col-xl-3'));

            products.sort((a, b) => {
                const titleA = a.querySelector('.product-title').textContent;
                const titleB = b.querySelector('.product-title').textContent;
                const priceA = parseFloat(a.querySelector('.product-price').textContent.replace(/[^0-9.]/g, ''));
                const priceB = parseFloat(b.querySelector('.product-price').textContent.replace(/[^0-9.]/g, ''));

                switch (sortValue) {
                    case 'a-z':
                        return titleA.localeCompare(titleB);
                    case 'price-low':
                        return priceA - priceB;
                    case 'price-high':
                        return priceB - priceA;
                    case 'best-seller':
                    case 'newest':
                    case 'relevance':
                    default:
                        return 0;
                }
            });

            products.forEach(product => productsGrid.appendChild(product));
        });

        // Funcionalidad de cantidad
        function increaseQty() {
            const input = document.getElementById('qtyInput');
            input.value = parseInt(input.value) + 1;
        }

        function decreaseQty() {
            const input = document.getElementById('qtyInput');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        // Cargar datos del producto en el modal
        document.querySelectorAll('[data-bs-toggle="modal"]').forEach(button => {
            button.addEventListener('click', function () {
                const card = this.closest('.product-card');
                const title = card.querySelector('.product-title').textContent;
                const price = card.querySelector('.product-price').textContent;
                const image = card.querySelector('.product-image-wrapper img').src;
                const hasSize = card.getAttribute('data-has-size') === 'true';

                // Actualizar información del producto
                document.getElementById('modalProductTitle').textContent = title;
                document.getElementById('modalProductPrice').textContent = price;
                document.getElementById('modalProductImage').src = image;
                document.getElementById('qtyInput').value = 1;

                // Mostrar u ocultar el selector de talla
                const sizeGroup = document.querySelector('.modal-select-group');
                const sizeSelect = sizeGroup.querySelector('.form-select');

                if (hasSize) {
                    sizeGroup.style.display = 'block';
                    sizeSelect.selectedIndex = 0; // Reset al "Elige una talla"
                    sizeSelect.disabled = false;
                } else {
                    sizeGroup.style.display = 'none';
                }
            });
        });

        // SISTEMA DE INVENTARIO Y FILTROS MEJORADO
        class InventoryManager {
            constructor() {
                this.products = [];
                this.filterState = {
                    type: new Set(),
                    price: new Set(),
                    size: new Set()
                };
                this.init();
            }

            init() {
                // Recopilar todos los productos
                document.querySelectorAll('.product-card').forEach(card => {
                    const product = {
                        element: card,
                        type: card.dataset.type,
                        price: parseFloat(card.dataset.price),
                        hasSize: card.dataset.hasSize === 'true',
                        stock: card.dataset.stock ? parseInt(card.dataset.stock) : 0,
                        sizes: card.dataset.hasSize === 'true' && card.dataset.sizes
                            ? JSON.parse(card.dataset.sizes)
                            : [],
                        sizeStock: card.dataset.stock && card.dataset.hasSize === 'true'
                            ? JSON.parse(card.dataset.stock)
                            : {}
                    };
                    this.products.push(product);
                });

                this.updateFilterCounts();
                this.setupFilterListeners();
            }

            updateFilterCounts() {
                // Obtener productos visibles actualmente
                const visibleProducts = this.products.filter(product => {
                    const parentCol = product.element.closest('.col-6, .col-md-4, .col-xl-3');
                    return parentCol.style.display !== 'none';
                });

                // Contar por tipo
                const typeCounts = {};
                visibleProducts.forEach(product => {
                    if (!typeCounts[product.type]) {
                        typeCounts[product.type] = 0;
                    }
                    typeCounts[product.type]++;
                });

                // Actualizar contadores de tipo
                ['playeras', 'sudaderas', 'gorras', 'bolsas', 'accesorios'].forEach(type => {
                    document.querySelectorAll(`[data-count-type="${type}"]`).forEach(countElement => {
                        const count = typeCounts[type] || 0;
                        countElement.textContent = count;

                        const listItem = countElement.closest('li');
                        const checkbox = listItem?.querySelector('input[type="checkbox"]');

                        if (!checkbox) return;

                        if (count === 0 && !this.filterState.type.has(type)) {
                            countElement.classList.add('zero');
                            listItem.style.opacity = '0.5';
                            checkbox.disabled = true;
                        } else {
                            countElement.classList.remove('zero');
                            listItem.style.opacity = '1';
                            checkbox.disabled = false;
                        }
                    });
                });

                // Contar por rango de precio
                const priceRanges = {
                    '50-99': 0,
                    '100-199': 0,
                    '200-299': 0,
                    '300-400': 0
                };

                visibleProducts.forEach(product => {
                    if (product.price >= 50 && product.price <= 99) priceRanges['50-99']++;
                    else if (product.price >= 100 && product.price <= 199) priceRanges['100-199']++;
                    else if (product.price >= 200 && product.price <= 299) priceRanges['200-299']++;
                    else if (product.price >= 300 && product.price <= 400) priceRanges['300-400']++;
                });

                // Actualizar contadores de precio
                Object.keys(priceRanges).forEach(range => {
                    document.querySelectorAll(`[data-count-price="${range}"]`).forEach(countElement => {
                        const count = priceRanges[range];
                        countElement.textContent = count;

                        const listItem = countElement.closest('li');
                        const checkbox = listItem?.querySelector('input[type="checkbox"]');

                        if (!checkbox) return;

                        if (count === 0 && !this.filterState.price.has(range)) {
                            countElement.classList.add('zero');
                            listItem.style.opacity = '0.5';
                            checkbox.disabled = true;
                        } else {
                            countElement.classList.remove('zero');
                            listItem.style.opacity = '1';
                            checkbox.disabled = false;
                        }
                    });
                });

                // Contar por talla
                const sizeCounts = {
                    xs: 0, s: 0, m: 0, l: 0, xl: 0, xxl: 0
                };

                visibleProducts.forEach(product => {
                    if (!product.hasSize) return;

                    product.sizes.forEach(size => {
                        const key = size.toLowerCase();
                        if (sizeCounts[key] !== undefined) {
                            sizeCounts[key]++;
                        }
                    });
                });

                // Actualizar contadores de talla
                Object.keys(sizeCounts).forEach(size => {
                    document.querySelectorAll(`[data-count-size="${size}"]`).forEach(countElement => {
                        const count = sizeCounts[size];
                        countElement.textContent = count;

                        const listItem = countElement.closest('li');
                        const checkbox = listItem?.querySelector('input[type="checkbox"]');

                        if (!checkbox) return;

                        if (count === 0 && !this.filterState.size.has(size)) {
                            countElement.classList.add('zero');
                            listItem.style.opacity = '0.5';
                            checkbox.disabled = true;
                        } else {
                            countElement.classList.remove('zero');
                            listItem.style.opacity = '1';
                            checkbox.disabled = false;
                        }
                    });
                });
            }

            setupFilterListeners() {
                const checkboxes = document.querySelectorAll('input[type="checkbox"][data-filter]');

                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const { filter, value } = checkbox.dataset;
                        const isChecked = checkbox.checked;

                        // Actualizar estado
                        if (isChecked) {
                            this.filterState[filter].add(value);
                        } else {
                            this.filterState[filter].delete(value);
                        }

                        // Sincronizar todos los checkboxes iguales
                        this.syncCheckboxes(filter, value, isChecked);

                        this.applyFilters();
                    });
                });
            }

            syncCheckboxes(filter, value, checked) {
                document
                    .querySelectorAll(
                        `input[data-filter="${filter}"][data-value="${value}"]`
                    )
                    .forEach(cb => {
                        cb.checked = checked;
                    });
            }

            applyFilters() {
                const activeFilters = {
                    type: [...this.filterState.type],
                    price: [...this.filterState.price],
                    size: [...this.filterState.size]
                };

                let visibleCount = 0;

                this.products.forEach(product => {
                    let visible = true;

                    // Filtro de tipo
                    if (activeFilters.type.length > 0) {
                        visible = activeFilters.type.includes(product.type);
                    }

                    // Filtro de precio
                    if (activeFilters.price.length > 0 && visible) {
                        visible = activeFilters.price.some(range => {
                            const [min, max] = range.split('-').map(Number);
                            return product.price >= min && product.price <= max;
                        });
                    }

                    // Filtro de talla
                    if (activeFilters.size.length > 0 && visible) {
                        if (product.hasSize) {
                            visible = activeFilters.size.some(size =>
                                product.sizes.map(s => s.toLowerCase()).includes(size)
                            );
                        } else {
                            visible = false;
                        }
                    }

                    const parentCol = product.element.closest('.col-6, .col-md-4, .col-xl-3');
                    parentCol.style.display = visible ? '' : 'none';

                    if (visible) visibleCount++;
                });

                document.querySelector('.products-count').textContent =
                    `${visibleCount} Productos Encontrados`;

                this.updateFilterCounts();
            }

            clearAllFilters() {
                this.filterState = {
                    type: new Set(),
                    price: new Set(),
                    size: new Set()
                };

                document
                    .querySelectorAll('input[type="checkbox"][data-filter]')
                    .forEach(cb => {
                        cb.checked = false;
                    });

                this.applyFilters();
            }

            // ESTE EJEMPLO ES PARA CONECTARLO CON LA BASE DE DATOS O UNA API
            async updateFromBackend() {
                try {
                    // const response = await fetch('/api/products/inventory');
                    // const data = await response.json();
                    // this.products = data.products;
                    // this.updateFilterCounts();

                    console.log('Backend integration ready');
                } catch (error) {
                    console.error('Error updating inventory:', error);
                }
            }
        }

        // Inicializar el sistema de inventario
        const inventoryManager = new InventoryManager();

        // Botón limpiar filtros
        document.querySelectorAll('.btn-clear-filters').forEach(btn => {
            btn.addEventListener('click', () => {
                inventoryManager.clearAllFilters();
            });
        });

        // SISTEMA DE CARRITO DE COMPRAS
        class ShoppingCart {
            constructor() {
                this.items = [];
                this.itemToDelete = null;
                this.init();
            }

            init() {
                // Cargar carrito desde localStorage
                const savedCart = localStorage.getItem('tdah_cart');
                if (savedCart) {
                    this.items = JSON.parse(savedCart);
                    this.updateBadge();
                }

                // Setup event listeners
                this.setupEventListeners();
            }

            setupEventListeners() {
                // Botón checkout
                document.querySelector('.btn-checkout')?.addEventListener('click', () => {
                    this.checkout();
                });

                // Botón confirmar eliminación
                document.getElementById('confirmDeleteBtn')?.addEventListener('click', () => {
                    if (this.itemToDelete !== null) {
                        this.removeItem(this.itemToDelete);
                        this.itemToDelete = null;
                        bootstrap.Modal.getInstance(document.getElementById('confirmDeleteModal')).hide();
                    }
                });
            }

            addItem(product) {
                const existingItem = this.items.find(item =>
                    item.title === product.title && item.size === product.size
                );

                if (existingItem) {
                    existingItem.quantity += product.quantity;
                } else {
                    this.items.push({
                        id: Date.now(),
                        title: product.title,
                        price: product.price,
                        priceNumber: parseFloat(product.price.replace(/[^0-9.]/g, '')),
                        size: product.size || null,
                        quantity: product.quantity,
                        image: product.image
                    });
                }

                this.saveCart();
                this.updateBadge();
                this.showToast(product);
                this.animateCartIcon();
                this.renderCart();
            }

            confirmRemoveItem(id) {
                const item = this.items.find(i => i.id === id);
                if (item) {
                    this.itemToDelete = id;
                    document.getElementById('productToDelete').textContent = item.title;
                    const modal = new bootstrap.Modal(document.getElementById('confirmDeleteModal'));
                    modal.show();
                }
            }

            removeItem(id) {
                this.items = this.items.filter(item => item.id !== id);
                this.saveCart();
                this.updateBadge();
                this.renderCart();

                // Mostrar toast de eliminación
                this.showToast({ title: 'Producto eliminado' }, true);
            }

            saveCart() {
                localStorage.setItem('tdah_cart', JSON.stringify(this.items));
            }

            getTotalItems() {
                return this.items.reduce((total, item) => total + item.quantity, 0);
            }

            getSubtotal() {
                return this.items.reduce((total, item) => total + (item.priceNumber * item.quantity), 0);
            }

            updateBadge() {
                const total = this.getTotalItems();
                const badges = document.querySelectorAll('.cart-badge');

                badges.forEach(badge => {
                    badge.textContent = total;
                    if (total > 0) {
                        badge.classList.add('show');
                    } else {
                        badge.classList.remove('show');
                    }
                });
            }

            renderCart() {
                const emptyCart = document.getElementById('emptyCart');
                const cartItems = document.getElementById('cartItems');
                const cartSummary = document.getElementById('cartSummary');

                if (this.items.length === 0) {
                    emptyCart.style.display = 'flex';
                    cartItems.style.display = 'none';
                    cartSummary.style.display = 'none';
                } else {
                    emptyCart.style.display = 'none';
                    cartItems.style.display = 'block';
                    cartSummary.style.display = 'block';

                    // Renderizar items
                    cartItems.innerHTML = this.items.map(item => `
                <div class="cart-item">
                    <img src="${item.image}" alt="${item.title}" class="cart-item-image">
                    <div class="cart-item-info">
                        <h6 class="cart-item-title">${item.title}</h6>
                        ${item.size ? `<p class="cart-item-size">Talla: ${item.size.toUpperCase()}</p>` : ''}
                        <p class="cart-item-price">${item.price}</p>
                        <p class="cart-item-quantity">Cantidad: ${item.quantity}</p>
                    </div>
                    <button class="cart-item-remove" onclick="cart.confirmRemoveItem(${item.id})">
                        <i class="bi bi-trash"></i>
                    </button>
                </div>
            `).join('');

                    // Actualizar resumen
                    const subtotal = this.getSubtotal();
                    const shipping = subtotal >= 500 ? 0 : 50;
                    const total = subtotal + shipping;

                    document.getElementById('cartSubtotal').textContent = `$${subtotal.toFixed(2)} MXN`;
                    document.getElementById('cartShipping').textContent = shipping === 0 ? 'Gratis' : `$${shipping} MXN`;
                    document.getElementById('cartTotal').textContent = `$${total.toFixed(2)} MXN`;
                }
            }

            animateCartIcon() {
                const wrappers = document.querySelectorAll('.cart-icon-wrapper');
                wrappers.forEach(wrapper => {
                    wrapper.classList.add('pulse');
                    setTimeout(() => wrapper.classList.remove('pulse'), 500);
                });
            }

            showToast(product, isDelete = false) {
                let toast = document.getElementById('cartToast');
                if (!toast) {
                    toast = document.createElement('div');
                    toast.id = 'cartToast';
                    toast.className = 'cart-toast';
                    toast.innerHTML = `
                <div class="cart-toast-icon">
                    <i class="bi bi-check"></i>
                </div>
                <div class="cart-toast-content">
                    <h6 id="toastTitle">Producto agregado</h6>
                    <p id="toastProductName"></p>
                </div>
            `;
                    document.body.appendChild(toast);
                }

                const icon = toast.querySelector('.cart-toast-icon i');
                const title = document.getElementById('toastTitle');
                const productName = document.getElementById('toastProductName');

                if (isDelete) {
                    icon.className = 'bi bi-trash';
                    toast.querySelector('.cart-toast-icon').style.background = '#dc3545';
                    title.textContent = 'Producto eliminado';
                    productName.textContent = product.title;
                } else {
                    icon.className = 'bi bi-check';
                    toast.querySelector('.cart-toast-icon').style.background = '#28a745';
                    title.textContent = 'Producto agregado';
                    productName.textContent = `${product.title}${product.size ? ' - Talla ' + product.size.toUpperCase() : ''}`;
                }

                setTimeout(() => toast.classList.add('show'), 100);

                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }

            checkout() {
                if (this.items.length === 0) {
                    alert('Tu carrito está vacío');
                    return;
                }

                // Aquí puedes redirigir a una página de checkout
                alert('Redirigiendo al checkout...\n\nTotal: $' + (this.getSubtotal() + (this.getSubtotal() >= 500 ? 0 : 50)).toFixed(2) + ' MXN');

                // window.location.href = 'checkout.html';
            }
        }

        // Inicializar carrito
        const cart = new ShoppingCart();

        // Modificar el evento del botón "Agregar al Carrito"
        document.querySelector('.modal-add-cart').addEventListener('click', function (e) {
            e.preventDefault();

            const sizeGroup = document.querySelector('.modal-select-group');
            const sizeSelect = sizeGroup.querySelector('.form-select');

            // Solo validar si el selector está visible
            if (sizeGroup.style.display !== 'none') {
                if (sizeSelect.selectedIndex === 0) {
                    alert('Por favor, selecciona una talla antes de agregar al carrito.');
                    sizeSelect.focus();
                    return;
                }
            }

            // Obtener datos del producto
            const product = {
                title: document.getElementById('modalProductTitle').textContent,
                price: document.getElementById('modalProductPrice').textContent,
                size: sizeGroup.style.display !== 'none' ? sizeSelect.value : null,
                quantity: parseInt(document.getElementById('qtyInput').value),
                image: document.getElementById('modalProductImage').src
            };

            // Agregar al carrito
            cart.addItem(product);

            // Cerrar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('productQuickView'));
            modal.hide();
        });

        // Evento de clic en el icono del carrito - ACTUALIZAR
        document.querySelectorAll('.cart-icon-wrapper').forEach(wrapper => {
            wrapper.addEventListener('click', () => {
                cart.renderCart();
                const cartOffcanvas = new bootstrap.Offcanvas(document.getElementById('cartOffcanvas'));
                cartOffcanvas.show();
            });
        });



    </script>
</body>

</html>